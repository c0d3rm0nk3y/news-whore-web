<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-list/core-list.html">
<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-slider/paper-slider.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="news-service.html">

<polymer-element name="news-list">

  <template>
    <style>
      :host {
        position: absolute;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
      h1 {
        text-align: center;
      }

      h4 {
        padding-right: 15px;
        padding-left: 10px;
        text-align: right;
      }

      .row {
        box-sizing: border-box;
        border-bottom: 1px solid #ddd;
        padding: 4px;
        cursor: default;
        background-color: white;
        overflow: hidden;
      }

      #listContainer {
        width: 100%;
        height: 18px;
        overflow: auto;
      }

      .mylist {
        width: 100%;
        height: 100%;
      }
      #paper_fab {
        right: 25px;
        bottom: 25px;
        position: absolute;
      }
      #core_card {
        position: relative;
        width: 400px;
        height: 375px;
        border-radius: 2px;
        box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
        left: 100px;
        top: 50px;
        background-color: rgb(255, 255, 255);
      }
    </style>

    <news-service id="service" news="{{news}}">
    </news-service>

    <core-card id="core_card" layout vertical>
        <h1 id="h1" align center-justified>Search</h1>
        <div id="contKeyword" layout horizontal>
          <h4>Keywords</h4>
          <paper-input label="Type something..." id="pInput" value="{{keywords}}"></paper-input>
        </div>
        <div id="contScoring" layout horizontal>
          <h4>Scoring</h4>
          <paper-radio-group selected="{{scoring}}" valueattr="label" selectedindex="0" id="prgScoring">
            <paper-radio-button label="Oldest" id="prbOldest"></paper-radio-button>
            <paper-radio-button label="Newest" id="prbNewest"></paper-radio-button>
          </paper-radio-group>
        </div>
        <div id="contCount" layout horizontal>
          <h4>Count: {{count}}</h4>
          <paper-slider value="{{count}}" id="psCount"></paper-slider>
        </div>
        <div id="contWhen" layout horizontal>
          <h4>When</h4>
          <paper-radio-group selected="{{when}}" valueattr="label" selectedindex="2" id="prgWhen">
            <paper-radio-button label="Today" id="prbToday"></paper-radio-button>
            <paper-radio-button label="Week" id="prbWeek"></paper-radio-button>
            <paper-radio-button label="Month" id="prbMonth"></paper-radio-button>
          </paper-radio-group>
        </div>
        <paper-button on-click="{{goClicked}}" class="hover" role="button" id="btnGo">Go</paper-button>
      </core-card>

    <!--<core-list data="{{news}}" class="mylist" flex>-->
    <!--  <template>-->
    <!--    <div class="row" layout horizontal>-->
    <!--      <a href="{{model.link}}">{{model.title}}</a>-->
    <!--    </div>-->
    <!--  </template>-->
    <!--</core-list>-->
  </template>

  <script>

    Polymer(
      'news-list', {

       keywords: "",
       scoring: "Newest",
       count: 100,
       when: "Today",

        created: function() {
          console.log('news-list.created()..');
          console.log();
        },
        ready: function() {
          console.log('news-list.ready()\n+', this.news);
          //console.log(Object.keys(this.news).length);
        },
        goClicked: function() {
          console.log('\ngo clicked..');
          this.$.service.fetch(this.keywords, this.scoring, this.count, this.when);
        }
      }
    );

  </script>

</polymer-element>