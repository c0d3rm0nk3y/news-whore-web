<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<link rel="import" href="../bower_components/core-scaffold/core-scaffold.html">
<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/core-item/core-item.html">
<link rel="import" href="../bower_components/core-list/core-list.html">
<link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">

<!--<link rel="import" href="../bower_components/">-->
<!--
##### Example

    <x-myelement></x-myelement>

@element x-myelement
@blurb Element providing solution to [...].
@status [...]
@homepage https://.../x-myelement
-->

<polymer-element name="x-myelement" attributes="attr data">
  <template>
    <link rel="stylesheet" href="x-myelement.css">

  <!--  <core-ajax -->
  <!--           id="ajax"-->
  <!--           withCredentials="true"-->
  <!--           on-core-response="{{handleResponse}}"-->
  <!--           headers='{"Access-Control-Allow-Credentials": "true"}'-->
  <!--           url="http://datawhore:monkeyFun1!@monkey-nodejs-71725.usw1.nitrousbox.com:8080/api/searchNews?keywords=sony+hacked+2014"-->
  <!--           response="{{data}}">-->
  <!--</core-ajax>-->

    <div id="content" >
      <core-list data="{{data}}" id="list" height="80" flex multi="false">

        <template>
          <div class="item">
            <p>{{model.title}}</p>
            List Row: {{index}}
          </div>
        </template>
      </core-list>
    </div>
  </template>

  <script>
    Polymer('x-myelement', {
      /**
       * The `noevent` event is not actually fired from here,
       * we document it as an example of documenting events.
       *
       * @event noevent
       */

      /**
       * The `attr` attribute does not yet have a purpose.
       *
       * @attribute attr
       * @type string
       */
      attr: '',
      data: "[{title: 'i am the first'},{title: 'another title'},{title: 'middle title'},{title: 'some other title'},{title: 'last title'}]",

      ready: function() {
        console.log('x-myelement.ready()');
        //this.$.ajax.go();
        //console.log(this.data);
      },

      handleResponse: function(e) {
        console.log('handleResponse()..');
        //console.log(this.data.length);
        // JSON.stringify(JSON.parse(this.data), null, 2)
        //this.$.list.data = this.data;
      },
      /**
       * This function will be invoked every time `attr` gets changed.
       */
      attrChanged: function() {
      },

      /**
       * The `task` method does [...]
       *
       * @method task
       * @return {Object} Returns [...].
       * @param {String} dummy Defines [...].
       */
      task: function(dummy) {
      }
    });
  </script>
</polymer-element>


<!--

    <core-scaffold id="core_scaffold">
      <core-header-panel mode="seamed" id="core_header_panel" navigation flex>
        <core-toolbar id="core_toolbar"></core-toolbar>
        <core-menu valueattr="label" id="core_menu" theme="core-light-theme">
          <core-item id="core_item" icon="settings" label="Search" horizontal center layout></core-item>
          <core-item id="core_item1" icon="settings" label="Feeds" horizontal center layout></core-item>
        </core-menu>
      </core-header-panel>
      <div id="div" tool>News-whore</div>
      <div id="content">
        <core-list data="[{title: 'this is a tite'}, {title: 'another title'}]"
                   id="list"
                   selectionEnabled="{{selectionEnabled}}"
                   selection="{{selection}}"
                   >
          <template>
            <div class="row {{ {selected: selected} | tokenList}}">
              <p>this is a list</p>
              <span>{{model.title}}</span>
              List row: {{index}}, User data from model: {{model.title}}
            </div>
          </template>
        </core-list>
      </div>
    </core-scaffold>

-->