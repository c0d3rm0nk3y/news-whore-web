<link rel="import" href="../bower_components/core-scaffold/core-scaffold.html">
<link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../bower_components/core-menu/core-menu.html">
<link rel="import" href="../bower_components/core-item/core-item.html">
<link rel="import" href="../bower_components/core-icon-button/core-icon-button.html">
<link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-radio-group/paper-radio-group.html">
<link rel="import" href="../bower_components/paper-radio-button/paper-radio-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/core-list/core-list.html">
<link rel="import" href="news-service.html">


<polymer-element name="news-whore" extends="news-service" >

  <template>
    <style>
      :host {
        position: absolute;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
      h4 {
        padding: 5px;
      }
      paper-radio-button {
        margin: 3px;
      }
      #core_scaffold {
        position: absolute;
        top: 0px;
        right: 0px;
        bottom: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
      }
      #core_header_panel {
        background-color: rgb(255, 255, 255);
      }
      #core_toolbar {
        color: rgb(255, 255, 255);
        background-color: rgb(79, 125, 201);
      }
      #core_menu {
        font-size: 16px;
      }
      #paper_input {
        left: 5px;
        top: 5px;
        position: relative;
      }
      paper_radio_group {
        left: 5px;
        top: 5px;
        position: relative;
      }
      #list {
        width: 100%;
        height: 600px;
        overflow: auto;
      }
      #btnGo {
        left: 5px;
        top: 5px;
        position: relative;
      }
      paper-button:hover {
        background: #01DF3A;
      }
      .item {
        box-sizing: border-box;
        border-bottom: 1px solid #ddd;
        padding: 4px;
        cursor: default;
        background-color: white;
        overflow: hidden;
      }
      #row {
        height: 18px;
      }
      #searchContainer {
        margin-left: 5px;
      }
    </style>

    <!--<news-service id="newsService" data="{{news}}" ></news-service>-->

    <core-scaffold id="core_scaffold">
      <core-header-panel mode="seamed" id="hPanel" navigation flex>
        <core-toolbar id="core_toolbar"></core-toolbar>
        <div id="searchContainer">
          <h4 id="h4">Keywords</h4>
          <paper-input label="keywords" value="sony hack 2014" id="keywords"></paper-input>
          <h4 id="h41">Sort</h4>
          <paper-radio-group selected="Newest" valueattr="label" selectedindex="0" id="sort" layout vertical>
            <paper-radio-button label="Newest" id="ascending"></paper-radio-button>
            <paper-radio-button label="Oldest" id="descending"></paper-radio-button>
          </paper-radio-group>
        </div>
        <paper-button id="btnGo" on-click="{{goClicked}}">Go</paper-button>
      </core-header-panel>
      <div id="div" tool>News Whore</div>
      <div id="content">
        <h3>Results</h3>
        <core-list id="list" data="{{news}}" scrollTarget="{{$.hPannel.scroller}}" flex>

          <template>
            <div class="item">
              <span class="from">{{model.title}}</span>
            </div>
          </template>

        </core-list>
      </div>
    </core-scaffold>
  </template>

  <script>

    Polymer('news-whore', {
      created: function() {},
      ready: function() {
        //this.news = this.$.newsService.data;
      },
      domReady: function() {},
      goClicked: function() {
        try {
          console.log('goClicked(). clicked!');
          console.log(this.$.keywords.value);
          this.fetchSimple(this.$.keywords.value);
          console.log('news-whore.goClicked() news\n%s', this.news);
          //this.$.list.data = this.$.newsService.data;
        } catch(e) {
          console.log('goClicked() e: %s', e);
        }
      },
      attributeChanged: function(attrName, oldVal, newVal) {
        //var newVal = this.getAttribute(attrName);
        console.log(attrName, 'old: ' + oldVal, 'new:', newVal);
      }
    });

  </script>

</polymer-element>